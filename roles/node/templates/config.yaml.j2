# Log Settings
log:
  loglevel: info                                          # Logging level: none, error, warn, info, debug, trace. NONE disables logging; each level includes messages from lower levels.
  logmode: inclusive                                      # Log mode: inclusive = this and lower levels; exclusive = only this level

# API Settings
api:
  api_token: ""                                           # Token required to access the API endpoints. If empty, access is allowed without authorization. Format: Bearer <token>.

# Timezone Settings
timezone: Asia/Bangkok                                    # IANA timezone name (e.g., Europe/Amsterdam, Asia/Singapore). If empty, uses TZ environment variable or UTC.

# V2RS-Node Settings
v2rs-node:
  type: xray                                              # Type of proxy core used for statistics. Accepted values: xray, singbox.
  address: 0.0.0.0                                        # IP address of the proxy core API server. '127.0.0.1' restricts access to localhost.
  port: 9253                                              # TCP port for the proxy core API server. Must be between 1 and 65535.

# Features & Monitoring Options
features:
  auth_lua: true                                          # Enables dynamic updates to HAProxy's auth.lua file for credential management.
  restart: true                                           # Enables automatic restart of services when configuration changes are detected.

# Core Settings
core:
  api_address: xray                                       # Use Docker service name; change if needed (e.g., to an IP like 172.32.0.x)
  api_port: 9953
  dir: /usr/local/etc/xray/                               # Directory path where the proxy (Xray or Singbox) config files are stored. Must end with a slash (/).
  config: /usr/local/etc/xray/config.json                 # Path to the main configuration file for the proxy core (e.g., Xray or Singbox config).
  access_log: /usr/local/etc/xray/access.log              # Path to the proxy core's access log file for tracking user sessions and IPs.
  access_log_regex: 'from (?:tcp|udp):([\d\.]+):\d+ accepted (?:tcp|udp):([\w\.\-]+):\d+ \[[^\]]+\] email: (\S+)' # Regular expression to parse access log. Should extract source IP, destination host, and user email/remark.
  # access_log: /var/log/haproxy.log
  # access_log_regex: 'login: (\S+); ip: ([0-9\.]+)'      # Alternative regex (e.g., for custom login formats):

# Paths & Logging
paths:
  f2b_log: /var/log/v2ray-stat.log                        # Path to the log file for recording v2ray-stat violations or issues (e.g., IP limit exceeded).
  f2b_banned_log: /var/log/v2ray-stat-banned.log          # Path to the log file for recording IP bans and unbans.
  auth_lua: /etc/haproxy/data/users.csv                   # Path to HAProxy's .auth.lua file, dynamically updated if auth_lua feature is enabled.
